<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTMX & Go - Demo</title>
    <script src="https://unpkg.com/htmx.org@1.9.4"></script>
  </head>
  <body>
    <div>
      <h1>TodoHTMX</h1>
      {{ block "todo" .}}
      <ul id="todo-list">
        {{ range .Todos }} {{ block "todo-list-elem" .}}
        <li id="todo-elem-{{ .Id }}">
          {{ .Name }} - {{ .Desc }} - {{ .Status }}
          <button hx-delete="/delete/{{ .Id }}" hx-target="#todo-list" hx-swap="outerHTML">
            Remove
          </button>
          <button hx-post="/update/{{ .Id }}" hx-target="#todo-elem-{{ .Id }}" hx-swap="outerHTML">
            UpdateStatus
          </button>
        </li>
        {{ end }} {{ end }}
      </ul>
      {{ end }}
    </div>

    <div>
      <h1>Add Todo</h1>

      <form hx-post="/add/" hx-target="#todo-list" hx-swap="beforeend">
        <div>
          <label for="name">Name</label>
          <input type="text" name="name" id="name" required />
        </div>
        <div>
          <label for="desc">Description</label>
          <input type="text" name="desc" id="desc" required />
        </div>
        <div>
          <button type="submit">Add</button>
        </div>
      </form>
    </div>
  </body>
</html>
